<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>–¢–∞–ø–∞–ª–∫–∞ 2026</title>
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Telegram WebApp API -->
    <script src="https://telegram.org"></script>
    <style>
        body { 
            background: #1a1a1a; color: white; text-align: center; 
            font-family: 'Segoe UI', sans-serif; margin: 0; overflow: hidden;
            touch-action: manipulation; user-select: none;
        }
        .header { padding: 25px; font-size: 36px; color: #ffd700; font-weight: bold; text-shadow: 0 0 10px rgba(255,215,0,0.5); }
        
        #coin-container {
            display: flex; justify-content: center; align-items: center;
            height: 280px; margin-top: 10px;
        }

        /* –¢–≤–æ—ë —Ñ–æ—Ç–æ –∫–∞–∫ –∫–Ω–æ–ø–∫–∞ */
        #tap-img {
            width: 230px; height: 230px; border-radius: 50%;
            border: 6px solid #ffd700; object-fit: cover;
            cursor: pointer; box-shadow: 0 0 30px rgba(255, 215, 0, 0.4);
            transition: transform 0.05s ease-out;
        }
        #tap-img:active { transform: scale(0.90); }

        .stats { margin-top: 30px; font-size: 20px; color: #ccc; }
        .stats span { color: #ffd700; font-weight: bold; }

        .btn-upg { 
            margin-top: 25px; padding: 18px 50px; border-radius: 15px;
            border: none; background: linear-gradient(45deg, #ffd700, #ffa500);
            font-weight: bold; font-size: 18px; cursor: pointer; color: #000;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }
        .btn-upg:active { transform: scale(0.98); }
    </style>
</head>
<body>
    <div class="header">üí∞ <span id="balance">0</span></div>
    
    <div id="coin-container">
        <!-- –¢–í–û–Ø –°–°–´–õ–ö–ê –£–ñ–ï –¢–£–¢ -->
        <img id="tap-img" src="https://allwebs.ru" alt="TAP">
    </div>

    <div class="stats">
        –°–∏–ª–∞ –∫–ª–∏–∫–∞: <span id="power">1</span><br>
        –¶–µ–Ω–∞ –ø—Ä–æ–∫–∞—á–∫–∏: <span id="cost">20</span>
    </div>

    <button class="btn-upg" onclick="buyUpgrade()">–£–õ–£–ß–®–ò–¢–¨ –ö–õ–ò–ö üöÄ</button>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand(); // –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –±—Ä–∞—É–∑–µ—Ä–∞
        let coins = Number(localStorage.getItem('coins')) || 0;
        let power = Number(localStorage.getItem('power')) || 1;
        let cost = Number(localStorage.getItem('cost')) || 20;

        const balanceEl = document.getElementById('balance');
        const powerEl = document.getElementById('power');
        const costEl = document.getElementById('cost');

        function updateUI() {
            balanceEl.innerText = Math.floor(coins);
            powerEl.innerText = power;
            costEl.innerText = cost;
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
            localStorage.setItem('coins', coins);
            localStorage.setItem('power', power);
            localStorage.setItem('cost', cost);
        }

        // –û–ë–†–ê–ë–û–¢–ö–ê –ö–õ–ò–ö–ê –ü–û –§–û–¢–û
        document.getElementById('tap-img').onclick = function() {
            // –®–∞–Ω—Å 2% –Ω–∞ "–ú—è—á –≤ –ª–∏—Ü–æ"
            if (Math.random() < 0.02) {
                let loss = Math.floor(coins * 0.1) + 5;
                coins = Math.max(0, coins - loss);
                tg.showAlert("‚ö°Ô∏è –ú–Ø–ß –í –ï–ë–õ–ò–©–ï –ê–£–¢–ò–°–¢ –¢–£–ü–û–ô! \n–í—ã –ø–æ–ª—É—á–∏–ª–∏ —É–¥–∞—Ä –∏ –ø–æ—Ç–µ—Ä—è–ª–∏ " + loss + " –º–æ–Ω–µ—Ç!");
                if (tg.HapticFeedback) tg.HapticFeedback.notificationOccurred('error');
            } else {
                coins += power;
                if (tg.HapticFeedback) tg.HapticFeedback.impactOccurred('medium');
            }
            updateUI();
        };

        // –ö–ù–û–ü–ö–ê –£–õ–£–ß–®–ï–ù–ò–Ø
        function buyUpgrade() {
            if (coins >= cost) {
                coins -= cost;
                power += 1;
                cost = Math.floor(cost * 2.2); // –£–¥–æ—Ä–æ–∂–∞–Ω–∏–µ –≤ 2.2 —Ä–∞–∑–∞
                updateUI();
                if (tg.HapticFeedback) tg.HapticFeedback.notificationOccurred('success');
            } else {
                tg.showAlert("‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç! \n–ù—É–∂–Ω–æ –µ—â—ë " + (cost - coins));
            }
        }

        // –ó–∞–ø—É—Å–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        updateUI();
    </script>
</body>
</html>
