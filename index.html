<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Tapper 2026</title>
    <style>
        body { background: #1a1a1a; color: white; text-align: center; font-family: 'Arial', sans-serif; margin: 0; touch-action: manipulation; user-select: none; }
        .header { padding: 20px; font-size: 24px; color: #ffd700; font-weight: bold; }
        .stats { display: flex; justify-content: space-around; background: #252525; padding: 10px; margin: 10px; border-radius: 15px; }
        
        /* –ì–ª–∞–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞-—Ñ–æ—Ç–æ */
        #coin { 
            width: 200px; height: 200px; border-radius: 50%; 
            margin-top: 30px; border: 5px solid #ffd700; 
            cursor: pointer; transition: transform 0.1s;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.2);
        }
        #coin:active { transform: scale(0.92); }

        .shop-btn { background: #ffd700; color: black; border: none; padding: 15px 30px; border-radius: 10px; font-weight: bold; margin-top: 20px; cursor: pointer; }
        .hit-text { position: absolute; color: #ff4444; font-weight: bold; animation: fly 0.6s forwards; pointer-events: none; }
        @keyframes fly { to { transform: translateY(-100px); opacity: 0; } }
    </style>
</head>
<body>
    <div class="header">üí∞ <span id="balance">0</span></div>
    
    <div class="stats">
        <div>–°–∏–ª–∞: <span id="power">1</span></div>
        <div>–£–ª—É—á—à–µ–Ω–∏–µ: <span id="cost">20</span></div>
    </div>

    <!-- –í src –≤—Å—Ç–∞–≤—å –ø—Ä—è–º—É—é —Å—Å—ã–ª–∫—É –Ω–∞ —Ñ–æ—Ç–æ (–∑–∞–∫–∞–Ω—á–∏–≤–∞—é—â—É—é—Å—è –Ω–∞ .jpg –∏–ª–∏ .png) -->
    <img id="coin" src="https://drive.google.com/file/d/1_Um_urrnEunLB-cwTJtlf9nlkxqdAQXG/view?usp=sharing" alt="TAP ME">

    <br>
    <button class="shop-btn" onclick="buyUpgrade()">–£–õ–£–ß–®–ò–¢–¨ –ö–õ–ò–ö üöÄ</button>

    <script src="https://telegram.org"></script>
    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();

        let coins = parseInt(localStorage.getItem('coins')) || 0;
        let power = parseInt(localStorage.getItem('power')) || 1;
        let cost = parseInt(localStorage.getItem('cost')) || 20;

        const balanceEl = document.getElementById('balance');
        const powerEl = document.getElementById('power');
        const costEl = document.getElementById('cost');

        function updateDisplay() {
            balanceEl.innerText = coins;
            powerEl.innerText = power;
            costEl.innerText = cost;
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ, —á—Ç–æ–±—ã –Ω–µ –æ–±–Ω—É–ª—è–ª–∏—Å—å
            localStorage.setItem('coins', coins);
            localStorage.setItem('power', power);
            localStorage.setItem('cost', cost);
        }

        document.getElementById('coin').addEventListener('click', (e) => {
            // –®–∞–Ω—Å 1 –∫ 50: –º—è—á –≤ –ª–∏—Ü–æ
            if (Math.random() < 0.02) {
                let penalty = Math.floor(coins * 0.05) + 5;
                coins = Math.max(0, coins - penalty);
                showHit(e.pageX, e.pageY, "–ú–Ø–ß –í –õ–ò–¶–û! -" + penalty);
                tg.HapticFeedback.notificationOccurred('error');
            } else {
                coins += power;
                tg.HapticFeedback.impactOccurred('light');
            }
            updateDisplay();
        });

        function buyUpgrade() {
            if (coins >= cost) {
                coins -= cost;
                power += 1;
                cost = Math.floor(cost * 1.8);
                updateDisplay();
                tg.HapticFeedback.notificationOccurred('success');
            } else {
                tg.showAlert("–ú–∞–ª–æ –º–æ–Ω–µ—Ç!");
            }
        }

        function showHit(x, y, text) {
            const div = document.createElement('div');
            div.className = 'hit-text';
            div.style.left = x + 'px';
            div.style.top = y + 'px';
            div.innerText = text;
            document.body.appendChild(div);
            setTimeout(() => div.remove(), 600);
        }

        updateDisplay();
    </script>
</body>
</html>
