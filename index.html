<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Tapper 2026</title>
    <style>
        body { background: #000; color: white; text-align: center; font-family: sans-serif; margin: 0; overflow: hidden; touch-action: manipulation; }
        .score { font-size: 48px; margin-top: 50px; color: #f39c12; }
        #coin { width: 80vw; max-width: 300px; margin-top: 30px; border-radius: 50%; border: 5px solid #f39c12; transition: transform 0.1s; }
        #coin:active { transform: scale(0.9); }
        .hit-text { position: absolute; color: red; font-weight: bold; animation: fly 0.6s ease-out forwards; pointer-events: none; }
        @keyframes fly { from { opacity: 1; transform: translateY(0); } to { opacity: 0; transform: translateY(-100px); } }
    </style>
</head>
<body>
    <div class="score">üí∞ <span id="balance">0</span></div>
    <!-- –ó–∞–º–µ–Ω–∏ —Å—Å—ã–ª–∫—É –Ω–∏–∂–µ –Ω–∞ —Å–≤–æ—é —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é -->
    <img id="coin" src="https://drive.google.com/file/d/1_Um_urrnEunLB-cwTJtlf9nlkxqdAQXG/view?usp=sharing" alt="TAP">

    <script src="https://telegram.org"></script>
    <script>
        let tg = window.Telegram.WebApp;
        tg.expand(); // –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω

        let coins = 0;
        const balanceEl = document.getElementById('balance');
        const coinImg = document.getElementById('coin');

        coinImg.addEventListener('click', (e) => {
            // –®–∞–Ω—Å 2% (1 –∏–∑ 50) –ø–æ–ª—É—á–∏—Ç—å –º—è—á–æ–º
            if (Math.random() < 0.02) {
                let penalty = Math.floor(coins * 0.1) + 5;
                coins = Math.max(0, coins - penalty);
                spawnText(e.pageX, e.pageY, "–ú–Ø–ß –í –õ–ò–¶–û! -" + penalty);
                tg.HapticFeedback.notificationOccurred('error'); // –í–∏–±—Ä–∞—Ü–∏—è
            } else {
                coins += 1;
                tg.HapticFeedback.impactOccurred('medium'); // –õ–µ–≥–∫–∞—è –≤–∏–±—Ä–∞—Ü–∏—è
            }
            balanceEl.innerText = coins;
        });

        function spawnText(x, y, text) {
            const el = document.createElement('div');
            el.className = 'hit-text';
            el.style.left = x + 'px';
            el.style.top = y + 'px';
            el.innerText = text;
            document.body.appendChild(el);
            setTimeout(() => el.remove(), 600);
        }
    </script>
</body>
</html>
