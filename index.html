<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="https://telegram.org"></script>
    <style>
        body { background: #000; color: #fff; text-align: center; font-family: sans-serif; margin: 0; padding-top: 50px; touch-action: manipulation; }
        #balance { font-size: 60px; color: gold; font-weight: bold; margin-bottom: 20px; }
        #coin {
            width: 200px; height: 200px; border-radius: 100px;
            background: orange; border: 8px solid white;
            margin: 0 auto; display: flex; align-items: center; justify-content: center;
            font-size: 100px; cursor: pointer; -webkit-tap-highlight-color: transparent;
        }
        #coin:active { transform: scale(0.9); }
        button { margin-top: 30px; padding: 15px 30px; background: gold; border: none; border-radius: 10px; font-weight: bold; }
    </style>
</head>
<body>
    <div id="balance">0</div>
    <!-- –ö–ª–∏–∫ –ø—Ä–æ–ø–∏—Å–∞–Ω –ø—Ä—è–º–æ –∑–¥–µ—Å—å –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ -->
    <div id="coin" onclick="handleTap()">üìÄ</div>
    <div style="margin-top:20px;">–ö–ª–∏–∫: <span id="pwr">1</span></div>
    <button onclick="buy()">–£–õ–£–ß–®–ò–¢–¨ –ö–õ–ò–ö</button>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();

        let coins = Number(localStorage.getItem('coins')) || 0;
        let power = Number(localStorage.getItem('power')) || 1;

        function update() {
            document.getElementById('balance').innerText = Math.floor(coins);
            document.getElementById('pwr').innerText = power;
            localStorage.setItem('coins', coins);
            localStorage.setItem('power', power);
        }

        // –§—É–Ω–∫—Ü–∏—è –∫–ª–∏–∫–∞
        window.handleTap = function() {
            coins += power;
            update();
            if (tg.HapticFeedback) tg.HapticFeedback.impactOccurred('medium');
        };

        window.buy = function() {
            let cost = power * 20;
            if (coins >= cost) {
                coins -= cost;
                power += 1;
                update();
            } else {
                alert("–ú–∞–ª–æ –º–æ–Ω–µ—Ç! –ù—É–∂–Ω–æ: " + cost);
            }
        };

        update();
    </script>
</body>
</html>
